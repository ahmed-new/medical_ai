{# templates/pages/planner.html #}
{% extends "base.html" %}

{% block content %}
<div class="container py-3">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <div>
      <h3 class="mb-0">Planner</h3>
      <small class="text-muted">Track your study tasks</small>
    </div>
    <div>
      <button
        class="btn btn-primary btn-sm"
        hx-get="{% url 'web_planner_tasks' %}"
        hx-target="#planner-tasks"
        hx-swap="innerHTML">
        Refresh
      </button>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-lg-4">
      {# تقويم بسيط #}
      {% include "components/planner/_calendar_strip.html" %}
      {# فورم إضافة #}
      {% include "components/planner/_new_task_form.html" %}
    </div>
    <div class="col-lg-8">
      <div id="planner-tasks"
           hx-get="{% url 'web_planner_tasks' %}"
           hx-trigger="load"
           hx-target="this"
           hx-swap="innerHTML">
        <div class="text-muted small">Loading tasks…</div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
