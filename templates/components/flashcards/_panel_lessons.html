<!-- {# templates/components/flashcards/_panel_lessons.html
   expects: chapter_id, subject_id, subject_name, chapter_name, lessons #} -->

<div class="d-flex justify-content-between align-items-center mb-3">
  <div class="fc-title lessons">
    <span class="accent"></span>
    <h5 class="m-0">
      {{ subject_name }}{% if chapter_name %} – {{ chapter_name }}{% endif %}
    </h5>
  </div>
  <button class="btn btn-link btn-sm"
          hx-get="{% url 'fc_panel_chapters' %}?subject_id={{ subject_id }}&subject_name={{ subject_name|urlencode }}"
          hx-target="#fc-main-panel"
          hx-swap="innerHTML"
          hx-indicator="#fc-main-spin">
    ← Back to chapters
  </button>
</div>

<div class="list-group list-group-flush small fc-list">
  {% if lessons %}
    {% for l in lessons %}
      <button
        class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
        hx-get="{% url 'fc_panel_flashcards' %}?lesson_id={{ l.id }}&subject_id={{ subject_id }}"
        hx-target="#fc-main-panel"
        hx-swap="innerHTML"
        hx-indicator="#fc-main-spin">
        <span>{{ l.title }}</span>
        <span class="badge fc-badge">flashcards</span>
      </button>
    {% endfor %}
  {% else %}
    <div class="alert alert-secondary mb-0">No lessons for this chapter.</div>
  {% endif %}
</div>
