{% if items and items|length %}
  <div class="list-group">
    {% for q in items %}
      <div class="list-group-item q-card" data-qid="{{ q.id }}">
        <div class="d-flex justify-content-between align-items-start gap-3">
          <div>
            <div class="fw-semibold">{{ q.text|default:"Question" }}</div>
            <div class="small text-muted d-flex flex-wrap gap-1 mt-1">
              {% if q.question_type %}<span class="badge bg-light text-muted">{{ q.question_type }}</span>{% endif %}
              {% if q.part_type %}<span class="badge bg-light text-muted">{{ q.part_type }}</span>{% endif %}
              {% if q.source_type %}<span class="badge bg-light text-muted">{{ q.source_type }}</span>{% endif %}
              {% if q.exam_kind %}<span class="badge bg-light text-muted">{{ q.exam_kind }}</span>{% endif %}
              {% if q.exam_year %}<span class="badge bg-light text-muted">{{ q.exam_year }}</span>{% endif %}
            </div>
          </div>

          <button class="btn btn-primary btn-sm q-solve"
                  hx-get="{% url 'web_question_detail' pk=q.id %}"
                  hx-target="#qdetail-{{ q.id }}"
                  hx-swap="innerHTML"
                  hx-indicator="#spin-{{ q.id }}">
            <span id="spin-{{ q.id }}" class="htmx-indicator spinner-border spinner-border-sm me-1"
                  role="status" aria-hidden="true"></span>
            Solve
          </button>
        </div>

        <div id="qdetail-{{ q.id }}" class="q-detail mt-3"></div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-secondary">No questions for this filter.</div>
{% endif %}
