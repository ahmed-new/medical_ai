{% if items and items|length %}
  <div class="list-group">
    {% for q in items %}
      <div class="list-group-item q-card" data-qid="{{ q.id }}">
        <div class="d-flex justify-content-between align-items-start gap-3">
          <div>
            <div class="fw-semibold">{{ q.text|default:"Question" }}</div>
            <div class="small text-muted">
              {{ q.question_type|default:"" }}{% if q.part_type %} 路 {{ q.part_type }}{% endif %}
              {% if q.source_type %} 路 {{ q.source_type }}{% endif %}
              {% if q.exam_kind %} 路 {{ q.exam_kind }}{% endif %}
              {% if q.exam_year %} 路 {{ q.exam_year }}{% endif %}
            </div>
          </div>

          <button class="btn btn-outline-primary btn-sm q-solve"
                  hx-get="{% url 'web_question_detail' pk=q.id %}"
                  hx-target="#qdetail-{{ q.id }}"
                  hx-swap="innerHTML"
                  hx-indicator="#spin-{{ q.id }}">
            <span id="spin-{{ q.id }}" class="htmx-indicator spinner-border spinner-border-sm me-1"
                  role="status" aria-hidden="true"></span>
            Solve
          </button>
        </div>

        <div id="qdetail-{{ q.id }}" class="q-detail mt-3"></div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-secondary">No questions for this filter.</div>
{% endif %}
